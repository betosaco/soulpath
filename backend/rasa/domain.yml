version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - provide_name
  - ask_name
  - astrology_question
  - astrology_sign
  - birth_date
  - book_session
  - ask_session_types
  - ask_pricing
  - ask_availability
  - ask_contact
  - ask_help
  - mood_great
  - mood_unhappy
  - bot_challenge
  - ask_packages
  - show_packages
  - package_details
  - select_package
  - ask_package_info
  - book_reading
  - provide_birth_date
  - ask_payment
  - chitchat
  - provide_info
  - select_timeslot
  - confirm_booking
  - nlu_fallback
  - enable_tts
  - disable_tts
  - change_voice
  - speak_this
  - test_voice

entities:
  - name
  - sign
  - date
  - time
  - session_type
  - price
  - location
  - phone
  - email
  - package_name
  - package_id
  - voice_preference
  - text_to_speak

slots:
  name:
    type: text
    mappings:
    - type: from_entity
      entity: name
  sign:
    type: text
    mappings:
    - type: from_entity
      entity: sign
  date:
    type: text
    mappings:
    - type: from_entity
      entity: date
  time:
    type: text
    mappings:
    - type: from_entity
      entity: time
  session_type:
    type: text
    mappings:
    - type: from_entity
      entity: session_type
  package_name:
    type: text
    mappings:
    - type: from_entity
      entity: package_name
  package_id:
    type: text
    mappings:
    - type: from_entity
      entity: package_id
  available_packages:
    type: text
    mappings:
    - type: from_text
  selected_package:
    type: text
    mappings:
    - type: from_entity
      entity: package_name
  selected_timeslot:
    type: text
    mappings:
    - type: from_text
  sentiment:
    type: text
    mappings:
    - type: from_text
  missing_details:
    type: text
    mappings:
    - type: from_text
  tts_enabled:
    type: bool
    mappings:
    - type: from_text
  tts_voice:
    type: text
    mappings:
    - type: from_entity
      entity: voice_preference
  text_to_speak:
    type: text
    mappings:
    - type: from_entity
      entity: text_to_speak

responses:
  utter_greet:
    - text: "¡Hola! Soy tu asistente de astrología y bienestar. ¿En qué puedo ayudarte hoy?"
    - text: "¡Buenos días! Soy tu guía cósmica. ¿Cómo puedo asistirte?"
    - text: "¡Saludos! Estoy aquí para brindarte orientación astrológica. ¿Qué necesitas?"

  utter_goodbye:
    - text: "¡Hasta luego! Que tengas un excelente día."
    - text: "¡Adiós! Que las estrellas te guíen."
    - text: "¡Nos vemos pronto! Que tengas mucha luz en tu camino."

  utter_happy:
    - text: "¡Excelente! Me alegra poder ayudarte."
    - text: "¡Perfecto! Estoy aquí para lo que necesites."
    - text: "¡Genial! Me da mucho gusto poder asistirte."

  utter_ask_name:
    - text: "¡Soy tu asistente de astrología! Puedes llamarme tu guía cósmica. ¿Cuál es tu nombre?"
    - text: "¡Hola! Soy tu guía espiritual. ¿Cómo te llamas?"
    - text: "¡Saludos! ¿Cuál es tu nombre para poder dirigirme a ti personalmente?"

  utter_astrology_question:
    - text: "¡Me encantaría ayudarte con tus preguntas astrológicas! ¿Qué orientación específica buscas?"
    - text: "¡Las estrellas tienen mucho que contarnos! ¿Qué aspecto de la astrología te interesa más?"
    - text: "¡Perfecto! La astrología es mi especialidad. ¿Qué te gustaría saber sobre tu signo o carta natal?"

  utter_astrology_sign:
    - text: "¡Excelente! 🌟 Para darte una lectura precisa de tu signo, necesito tu fecha de nacimiento completa (día, mes y año). ¿Podrías compartirla conmigo?"
    - text: "¡Perfecto! Con tu signo puedo ayudarte mejor. ¿Podrías darme tu fecha de nacimiento para una lectura más precisa?"

  utter_birth_date:
    - text: "¡Perfecto! 🌟 Con tu fecha de nacimiento puedo crear tu carta natal completa. ¿Te gustaría que te haga una lectura personalizada?"
    - text: "¡Excelente! Ahora puedo darte una lectura mucho más precisa. ¿Qué aspecto de tu carta natal te interesa más?"

  utter_book_session:
    - text: "¡Me encantaría ayudarte a agendar una sesión con José Garfias! ¿Qué tipo de lectura te interesa?"
    - text: "¡Excelente! Puedo ayudarte a programar una consulta. ¿Qué tipo de sesión astrológica te gustaría reservar?"
    - text: "¡Perfecto! ¿Te gustaría agendar una sesión de astrología, tarot, numerología o meditación?"

  utter_session_types:
    - text: "Ofrecemos varios tipos de sesiones: 📿 Astrología y carta natal, 🔮 Lectura de tarot, 🔢 Numerología, 🧘 Meditación guiada, 💆 Terapia holística, y 🎯 Coaching espiritual. ¿Cuál te interesa más?"
    - text: "Tenemos estas modalidades disponibles: Consultas astrológicas, lecturas de tarot, sesiones de numerología, meditación, terapia holística y coaching. ¿Qué te llama la atención?"
    - text: "Nuestros servicios incluyen: Análisis de carta natal, lecturas de tarot, numerología, meditación, terapia y coaching espiritual. ¿Cuál prefieres?"

  utter_pricing:
    - text: "Nuestras tarifas varían según el tipo de sesión: Consultas astrológicas desde $50, lecturas de tarot desde $40, numerología desde $45, y sesiones de meditación desde $35. ¿Te interesa algún servicio específico?"
    - text: "Los precios van desde $35 hasta $80 dependiendo del tipo de sesión y duración. También tenemos paquetes especiales. ¿Qué tipo de consulta te interesa?"
    - text: "Tenemos diferentes opciones de inversión según el servicio. ¿Te gustaría que te dé más detalles sobre algún tipo específico de sesión?"

  utter_availability:
    - text: "Estamos disponibles de lunes a viernes de 9:00 AM a 7:00 PM, y sábados de 10:00 AM a 4:00 PM. ¿Qué día te funciona mejor?"
    - text: "Nuestros horarios son: Lunes a viernes 9:00-19:00, sábados 10:00-16:00. ¿Cuándo te gustaría agendar?"
    - text: "Trabajamos de lunes a viernes de 9 AM a 7 PM, y sábados de 10 AM a 4 PM. ¿Qué horario prefieres?"

  utter_contact:
    - text: "Puedes contactarnos por WhatsApp al +52 55 1234 5678, email: info@josegarfias.com, o visitarnos en nuestra ubicación en Ciudad de México. ¿Prefieres algún método específico?"
    - text: "Nuestros datos de contacto: 📱 WhatsApp: +52 55 1234 5678, 📧 Email: info@josegarfias.com, 📍 Ubicación: Ciudad de México. ¿Cómo te gustaría comunicarte?"
    - text: "Te puedes comunicar con nosotros por WhatsApp, email o visitarnos. ¿Qué método prefieres para contactarte?"

  utter_help:
    - text: "¡Por supuesto! Estoy aquí para ayudarte. Puedo asistirte con información sobre nuestros servicios, agendar citas, responder preguntas astrológicas, o darte información de contacto. ¿En qué específicamente necesitas ayuda?"
    - text: "¡Claro que sí! Puedo ayudarte a: agendar sesiones, explicarte nuestros servicios, responder preguntas astrológicas, darte información de precios y horarios. ¿Qué necesitas saber?"
    - text: "¡Por supuesto! Estoy aquí para orientarte. ¿Te gustaría saber sobre nuestros servicios, agendar una cita, o tienes alguna pregunta específica?"

  utter_booking_confirmation:
    - text: "¡Perfecto! He registrado tu interés en agendar una sesión. Te contactaremos pronto para confirmar la fecha y hora. ¿Hay algo más en lo que pueda ayudarte?"
    - text: "¡Excelente! Tu solicitud de cita ha sido registrada. Nos pondremos en contacto contigo para finalizar los detalles. ¿Necesitas algo más?"
    - text: "¡Genial! Hemos anotado tu solicitud. Te contactaremos para confirmar todos los detalles de tu sesión. ¿Hay algo más que pueda hacer por ti?"

  utter_iamabot:
    - text: "Soy un asistente de astrología y bienestar creado con Rasa."

  utter_cheer_up:
    - text: "¡Aquí tienes algo para animarte!"
      image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
    - text: "¿Te ayudó eso?"

  utter_ask_packages:
    - text: "¡Excelente! Te mostraré nuestros paquetes disponibles. Déjame obtener la información más actualizada para ti."
    - text: "¡Perfecto! Tengo varios paquetes de astrología y bienestar. Te los muestro enseguida."

  utter_show_packages:
    - text: "Aquí tienes nuestros paquetes disponibles. ¿Te gustaría saber más detalles sobre alguno?"
    - text: "Estos son nuestros paquetes actuales. ¿Cuál te interesa más?"

  utter_package_details:
    - text: "¡Claro! Te daré más detalles sobre ese paquete. Déjame obtener la información específica."
    - text: "Excelente elección. Te proporciono toda la información detallada sobre ese paquete."

  utter_default:
    - text: "Disculpa, no entendí completamente tu mensaje. ¿Podrías reformularlo o decirme en qué puedo ayudarte?"
    - text: "Lo siento, no pude procesar eso correctamente. ¿Me puedes explicar de otra manera?"

  utter_fallback:
    - text: "No estoy seguro de entender exactamente lo que necesitas. ¿Podrías darme más detalles?"
    - text: "Disculpa, esa consulta es un poco compleja para mí. ¿Puedes ser más específico?"

  utter_ask_session_type:
    - text: "¿Qué tipo de sesión te interesa? Ofrecemos astrología, tarot, numerología, meditación, terapia y coaching espiritual."
    - text: "¿Qué tipo de lectura prefieres? Tengo disponibles: astrología, tarot, numerología, meditación, terapia holística y coaching."

  utter_ask_birth_date:
    - text: "Para darte una lectura precisa, necesito tu fecha de nacimiento completa (día, mes y año). ¿Podrías compartirla conmigo?"
    - text: "Para crear tu carta natal necesito tu fecha de nacimiento. ¿Cuál es?"

  utter_ask_preferred_time:
    - text: "¿Qué horario te queda mejor? Puedo revisar la disponibilidad para ti."
    - text: "¿En qué momento del día prefieres tu sesión?"

  utter_availability_options:
    - text: "Estos son nuestros horarios disponibles esta semana. ¿Cuál prefieres?"
    - text: "Aquí tienes las opciones de horario disponibles. ¿Cuándo te conviene?"

  utter_ask_payment:
    - text: "¿Cómo prefieres hacer el pago? Aceptamos diferentes métodos de pago."
    - text: "¿Qué método de pago te resulta más conveniente?"

  utter_pricing_info:
    - text: "Nuestros precios varían según el tipo de sesión. ¿Te gustaría saber más sobre algún servicio específico?"
    - text: "Los precios dependen del tipo de lectura. ¿Sobre cuál quieres información?"

  utter_payment_methods:
    - text: "Aceptamos pagos por transferencia bancaria, tarjetas de crédito y efectivo. ¿Cuál prefieres?"
    - text: "Puedes pagar mediante transferencia, tarjeta o en efectivo según tu preferencia."

  utter_booking_success:
    - text: "¡Excelente! Tu cita ha sido agendada exitosamente. Te enviaremos los detalles por email."
    - text: "¡Perfecto! Tu reserva está confirmada. Recibirás toda la información necesaria."

  utter_contact_info:
    - text: "Puedes contactarnos por WhatsApp al +52 55 1234 5678, email: info@soulpath.lat, o visitarnos en Ciudad de México."
    - text: "Nuestros datos de contacto: 📱 WhatsApp: +52 55 1234 5678, 📧 Email: info@soulpath.lat"

  utter_help_info:
    - text: "¡Claro que te ayudo! Puedo agendar citas, dar información sobre servicios, precios y horarios. ¿Qué necesitas?"
    - text: "Estoy aquí para ayudarte. Puedo asistirte con reservas, información de servicios o cualquier pregunta que tengas."

  utter_bot_challenge_response:
    - text: "Soy un asistente de IA especializado en astrología y bienestar espiritual. ¿En qué puedo ayudarte?"
    - text: "Soy tu asistente virtual para consultas astrológicas y bienestar. ¿Qué te gustaría saber?"

  utter_understand_denial:
    - text: "Entiendo que ahora mismo no es el mejor momento. ¿Hay algo más en lo que pueda ayudarte?"
    - text: "No hay problema. ¿Te gustaría información sobre nuestros servicios o tienes alguna otra pregunta?"

  # TTS Responses
  utter_tts_enabled:
    - text: "🔊 ¡Perfecto! He activado la función de voz. Ahora te hablaré en mis respuestas."
    - text: "🎤 ¡Excelente! La función de voz está activada. Podrás escucharme hablar."

  utter_tts_disabled:
    - text: "🔇 He desactivado la función de voz. Solo te enviaré texto a partir de ahora."
    - text: "🔇 La función de voz está desactivada. Te enviaré solo mensajes de texto."

  utter_voice_changed:
    - text: "🎤 ¡Perfecto! He cambiado la voz. Ahora usaré esta nueva voz para hablarte."
    - text: "🎵 ¡Excelente! La voz ha sido actualizada. ¿Te gusta cómo suena?"

  utter_voice_test:
    - text: "🎤 ¡Hola! Esta es una prueba de voz. ¿Puedes escucharme claramente?"
    - text: "🔊 Probando la función de voz... ¿Cómo sueno?"

  utter_tts_error:
    - text: "⚠️ Lo siento, hay un problema con la función de voz. Te enviaré solo texto por ahora."
    - text: "🔧 Hay un error técnico con el audio. Continuaré con mensajes de texto."

actions:
  - action_default_fallback
  - action_handle_name_provision
  - action_extract_astrology_info
  - action_book_session_form
  - action_check_availability
  - action_get_pricing
  - action_sentiment_analysis
  - action_validate_booking
  - action_save_user_info
  - action_fetch_packages
  - action_fetch_package_details
  - action_text_to_speech
  - action_speak_response
  - action_toggle_tts
  - action_set_voice

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
