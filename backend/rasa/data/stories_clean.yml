version: "3.1"

stories:

# ============================================================================
# BASIC CONVERSATION FLOWS
# ============================================================================

- story: happy path
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_great
  - action: utter_happy

- story: sad path 1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy

- story: sad path 2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: deny
  - action: utter_goodbye

# ============================================================================
# YOGA CLASS BOOKING FLOWS
# ============================================================================

- story: complete booking flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: book_yoga_class
  - action: utter_book_class
  - intent: provide_info
  - action: action_handle_name_provision
  - intent: ask_class_types
  - action: utter_class_types
  - intent: select_package
  - action: utter_ask_packages
  - action: action_fetch_packages
  - intent: select_timeslot
  - action: action_check_availability
  - intent: confirm_booking
  - action: utter_booking_confirmation

- story: simple booking flow
  steps:
  - intent: book_yoga_class
  - action: utter_book_class
  - intent: select_package
  - action: utter_ask_packages
  - action: action_fetch_packages
  - intent: confirm_booking
  - action: utter_booking_confirmation

- story: booking with availability check
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_availability
  - action: action_check_availability
  - intent: book_yoga_class
  - action: utter_book_class
  - intent: confirm_booking
  - action: utter_booking_confirmation

# ============================================================================
# INFORMATION REQUEST FLOWS
# ============================================================================

- story: pricing information flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_pricing
  - action: utter_ask_packages
  - action: action_fetch_packages
  - intent: chitchat
  - action: utter_help

- story: direct pricing flow
  steps:
  - intent: ask_pricing
  - action: utter_ask_packages
  - action: action_fetch_packages
  - intent: package_details
  - action: utter_package_details
  - action: action_fetch_package_details
  - intent: select_package
  - action: utter_book_class

- story: contact information flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_contact
  - action: utter_contact
  - intent: ask_help
  - action: utter_help

- story: services information flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_class_types
  - action: utter_class_types
  - intent: ask_packages
  - action: utter_ask_packages
  - action: action_fetch_packages

- story: teacher information flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_teachers
  - action: action_get_teachers_info
  - intent: teacher_info
  - action: action_get_teachers_info
  - intent: book_yoga_class
  - action: utter_book_class

- story: class schedule flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: class_schedule
  - action: action_get_class_schedule
  - intent: book_yoga_class
  - action: utter_book_class

# ============================================================================
# CHITCHAT AND FALLBACK FLOWS
# ============================================================================

- story: chitchat flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: chitchat
  - action: utter_ask_class_types
  - intent: ask_skill_level
  - action: utter_ask_skill_level
  - intent: ask_packages
  - action: utter_ask_packages
  - action: action_fetch_packages

- story: fallback recovery flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: nlu_fallback
  - action: action_default_fallback
  - intent: ask_packages
  - action: utter_ask_packages
  - action: action_fetch_packages

- story: multiple fallback attempts
  steps:
  - intent: nlu_fallback
  - action: action_default_fallback
  - intent: nlu_fallback
  - action: utter_default
  - intent: ask_help
  - action: utter_help

# ============================================================================
# NAME AND INFORMATION FLOWS
# ============================================================================

- story: name provision flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: provide_name
  - action: action_handle_name_provision
  - intent: ask_packages
  - action: utter_ask_packages
  - action: action_fetch_packages

- story: skill level flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_skill_level
  - action: utter_ask_skill_level
  - intent: provide_skill_level
  - action: action_recommend_class
  - intent: ask_packages
  - action: utter_ask_packages
  - action: action_fetch_packages

# ============================================================================
# COMPLEX INTERACTION FLOWS
# ============================================================================

- story: comprehensive consultation flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: chitchat
  - action: utter_ask_class_types
  - intent: ask_skill_level
  - action: utter_ask_skill_level
  - intent: ask_packages
  - action: utter_ask_packages
  - action: action_fetch_packages
  - intent: package_details
  - action: utter_package_details
  - action: action_fetch_package_details
  - intent: select_package
  - action: utter_book_class
  - intent: confirm_booking
  - action: utter_booking_confirmation

- story: information gathering flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: provide_info
  - action: action_handle_name_provision
  - intent: ask_skill_level
  - action: utter_ask_skill_level
  - intent: ask_package_info
  - action: utter_ask_packages
  - action: action_fetch_packages
  - intent: select_timeslot
  - action: action_check_availability
  - intent: confirm_booking
  - action: utter_booking_confirmation

# ============================================================================
# TEXT-TO-SPEECH FLOWS
# ============================================================================

- story: enable TTS flow
  steps:
  - intent: enable_tts
  - action: action_toggle_tts
  - intent: test_voice
  - action: action_text_to_speech

- story: disable TTS flow
  steps:
  - intent: disable_tts
  - action: action_toggle_tts

- story: change voice flow
  steps:
  - intent: change_voice
  - action: action_set_voice
  - intent: test_voice
  - action: action_text_to_speech

- story: test voice flow
  steps:
  - intent: test_voice
  - action: action_text_to_speech

- story: speak specific text flow
  steps:
  - intent: speak_this
  - action: action_text_to_speech

- story: TTS with package info flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: enable_tts
  - action: action_toggle_tts
  - intent: ask_packages
  - action: utter_ask_packages
  - action: action_fetch_packages
  - action: action_speak_response

- story: TTS with booking flow
  steps:
  - intent: greet
  - action: utter_greet
  - intent: enable_tts
  - action: action_toggle_tts
  - intent: book_yoga_class
  - action: utter_book_class
  - action: action_speak_response
  - intent: confirm_booking
  - action: utter_booking_confirmation
  - action: action_speak_response
