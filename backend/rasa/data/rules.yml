version: "3.1"

rules:

- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Say 'I am a bot' anytime the user challenges
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Greet the user anytime they say hello
  steps:
  - intent: greet
  - action: utter_greet

- rule: Handle name provision
  steps:
  - intent: provide_name
  - action: action_handle_name_provision

- rule: Handle teacher info requests
  steps:
  - intent: ask_teachers
  - action: action_get_teachers_info

- rule: Handle class schedule requests
  steps:
  - intent: class_schedule
  - action: action_get_class_schedule

# Ensure pricing goes straight to packages API
- rule: Pricing triggers packages fetch
  steps:
  - intent: ask_pricing
  - action: utter_ask_packages
  - action: action_fetch_packages

# Handle class types requests
- rule: Handle class types requests
  steps:
  - intent: ask_class_types
  - action: utter_class_types

# Handle skill level provision
- rule: Handle skill level provision
  steps:
  - intent: provide_skill_level
  - action: action_recommend_class

# Handle yoga class booking - let stories handle this flow
